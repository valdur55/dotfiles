# i3status configuration file.
# see "man i3status" for documentation.

# It is important that this file is edited as UTF-8.
# The following line should contain a sharp s:
# ÃŸ
# If the above line is not correctly displayed, fix your editor first!
#general {
 #       colors = true
#        interval = 1
#        output_format = i3bar
#oi}
#
py3status {
 "on_error" = "show"
}

order += "window"
#order += "window_title"
#order += "pomodoro"
#order += "whatismyip"
order += 'scratchpad'
#order += 'group network'
order += "wireless wlp3s0"
order += "ethernet enp2s0"
#order += "battery_level 0"
order += "battery 0"
order += "load"
order += 'sysdata'
order += "cpu_temperature 0"
order += "getjson niiskus"
order += "getjson temperatuur"
#order += "volume_status"
order += 'mpris'
#order += 'mpris_dbus'
#order += 'mpris_dbus_bar'
#order += 'valdur_mpris'
order += "bluetooth"
order += 'kdeconnector'
order += 'volume_status'
#order += 'volume master'
#order += 'valdur_volume_status'
order += 'external_script vol'
#order += 'backlight'
#order += "volume_status"
order += "clock"

external_script vol {
    format = "\?if=output ðŸŽ§|ðŸ’»"
    #script_path = "echo $(pactl list sinks short | grep bluez)"
    #script_path = "echo $(pactl list sinks short | grep -c bluez)"
    script_path = "pactl list sinks short | awk '/bluez/'"
}
kdeconnector {
    device_id = "33eac269589e3ada"
    #format = "{name} {battery} âš¡ {state}"
    low_battery = "10"
    format_disconnected = ""
    on_click 1 = 'exec caja /run/user/1000/33eac269589e3ada/'
}

battery_level 0 {
    format = "{icon} {percent} {time_remaining} {power}"
    notification = True
    measurement_mode = "sys"
}

bluetooth {
	on_click 1 = "exec btklapid"
	on_click 3 = "exec bluetoothctl power off"
    format = "[{format_device}|{\U0001F4BB}]"
}

mpris {
    format = "P {state} {player}[time]"
    format_none = ""
#    cache_timeout = 300
#    player_priority = "[vlc, chrome, chromium, mpd, cantata, bomi, *]"
}
#mpris_dbus {
#    format = "D {state} {player} [time]"
#    format_none = ""
#   player_priority = "[vlc, chrome, chromium, mpd, cantata, bomi, *]"
#}
mpris_dbus_bar {
    format = "B {state} {player} [time]"
    format_none = ""
#    player_priority = "[vlc, chrome, chromium, mpd, cantata, bomi, *]"
}
group network {
#format = "{output}"
wireless wlan0 {
        format_up = "(%quality at %essid) %ip"
        format_down = ""
}
ethernet eth0 {
        # if you use %speed, i3status requires root privileges
        format_up = "%ip (%speed)"
        format_down = ""
}
}

window {
    always_show = True
    max_width = 100 
}

sysdata {
    format = '[\?color=cpu_used_percent C: {cpu_used_percent:3.2f}%] [\?color=mem_used_percent M: {mem_used}/{mem_total}] [\?color=swap_used_percent S: {swap_used:03.2f}/{swap_total:03.2f}]'
    cache_timeout = 10
}

wireless wlan0 {
        format_up = "(%quality at %essid) %ip"
        format_down = ""
}

ethernet eth0 {
        # if you use %speed, i3status requires root privileges
        format_up = "%ip (%speed)"
        format_down = ""
}

wireless wlp3s0 {
        format_up = "(%quality at %essid) %ip"
        format_down = ""
}

ethernet enp2s0 {
        # if you use %speed, i3status requires root privileges
        format_up = "%ip (%speed)"
        format_down = ""
}

battery 0 {
        format = "%status %percentage %remaining"
    status_chr = "\U0001F50C"
    status_bat = "\U0001F50B"
    status_full = "\U00002705"
#  last_full_capacity = true
#        status_chr = "âš‡ CHR"
#        status_bat = "âš¡ BAT"
#        status_full = "â˜» FULL"
}

cpu_temperature 0 {
        format = "%degrees Â°C"
}

getjson niiskus {
    url = "https://io.adafruit.com/api/v2/valdur55/feeds/niiskus"
    format = "ðŸŒ¢ {last_value} %"
    cache_timeout = 60
}

getjson temperatuur {
    url = "https://io.adafruit.com/api/v2/valdur55/feeds/temperatuur"
    format = "ðŸŒ¡ {last_value}Â°C"
    cache_timeout = 60
}
run_watch DHCP {
        pidfile = "/var/run/dhclient*.pid"
}

run_watch VPN {
        pidfile = "/var/run/vpnc/pid"
}

tztime local {
        format = "%Y-%m-%d %H:%M:%S"
#        cache_timeout = 1
}

# cycling through London, Warsaw, Tokyo
clock {
    cache_timeout = 10
#    format = ["{Europe/Tallinn}"]
    format_time = "%Y-%m-%d %H:%M:00"
}

load {
        format = "%1min"
}

disk "/" {
        format = "%avail"
}

volume master {
        format = "%volume"
        format_muted = "(%volume)"
        device = "default"
        mixer = "Master"
        mixer_idx = 0
}
volume_status {
   command = "amixer"
   device = "pulse"
   format = "{percentage}%"
   button_mute = 2
   format_muted = "({percentage}%)"
    color_muted = '#FFFF00'
   cache_timeout = 10
   thresholds = [ (0, '#FFFF00'), (5, 'normal')]
}

vol {
  cache_timeout = 1
}

backlight {
}

valdur_volume_status {
   command = "amixer"
   device = "pulse"
   format = "{percentage}%"
   format_muted = "({percentage}%)"
     max_volume = 100
    cache_timeout = 1
thresholds = [ (0, '#FFFF00'), (5, 'normal')]
    color_muted = '#FFFF00'
    button_up = 4
    button_down = 5
    button_mute = 2
}


pomodoro {
    format = "{mmss}"
    timer_pomodoro = 2700
}
